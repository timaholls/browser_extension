<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auto Proxy Connector</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 320px;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
    }

    .container {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    h1 {
      font-size: 20px;
      margin-bottom: 20px;
      text-align: center;
      font-weight: 600;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(255, 255, 255, 0.15);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .status-text {
      font-size: 14px;
      font-weight: 500;
    }

    .status-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #ff4757;
      animation: pulse 2s infinite;
    }

    .status-dot.active {
      background: #2ed573;
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    .proxy-info {
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 13px;
      line-height: 1.8;
    }

    .info-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .info-label {
      opacity: 0.8;
    }

    .info-value {
      font-weight: 600;
      font-family: 'Courier New', monospace;
    }

    .controls {
      display: flex;
      gap: 10px;
    }

    button {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .btn-enable {
      background: #2ed573;
      color: white;
    }

    .btn-enable:hover {
      background: #26de81;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(46, 213, 115, 0.4);
    }

    .btn-disable {
      background: #ff4757;
      color: white;
    }

    .btn-disable:hover {
      background: #ff6b81;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 71, 87, 0.4);
    }

    .btn-logout {
      background: #ffa502;
      color: white;
    }

    .btn-logout:hover {
      background: #ffb142;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 165, 2, 0.4);
    }

    .btn-auto {
      background: #3742fa;
      color: white;
    }

    .btn-auto:hover {
      background: #5352ed;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(55, 66, 250, 0.4);
    }

    .btn-save {
      background: #ff6b35;
      color: white;
    }

    .btn-save:hover {
      background: #ff8c42;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);
    }

    .btn-login {
      background: #2ed573;
      color: white;
      width: 100%;
      margin-top: 10px;
    }

    .btn-login:hover {
      background: #26de81;
      transform: translateY(-2px);
    }

    button:active {
      transform: translateY(0);
    }

    .auth-form {
      text-align: center;
    }

    .auth-form h3 {
      margin-bottom: 15px;
      font-size: 16px;
    }

    .auth-form input {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      margin-bottom: 10px;
      background: rgba(255, 255, 255, 0.9);
      color: #333;
    }

    .auth-hint {
      font-size: 12px;
      opacity: 0.7;
      margin-top: 10px;
    }

    .profile-info {
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      text-align: center;
    }

    .profile-name {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .profile-region {
      font-size: 14px;
      opacity: 0.8;
    }

    .profile-selector {
      margin-bottom: 15px;
    }

    .profile-selector label {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
      font-weight: 500;
    }

    .profile-selector select {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.9);
      color: #333;
      font-size: 14px;
    }

    .user-interface {
      text-align: center;
    }

    .user-welcome {
      background: rgba(46, 213, 115, 0.2);
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .user-welcome h3 {
      margin-bottom: 15px;
      color: #2ed573;
    }

    .user-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .user-name {
      font-size: 16px;
      font-weight: 600;
    }

    .user-status {
      font-size: 14px;
      color: #2ed573;
    }
    
    .user-status.connected {
      color: #2ed573;
      font-weight: 600;
    }
    
    .user-status.disconnected {
      color: #ff4757;
      font-weight: 600;
    }

    .user-message {
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-size: 14px;
      line-height: 1.6;
    }

    .admin-interface {
      text-align: left;
    }

    .admin-header {
      background: rgba(55, 66, 250, 0.2);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      text-align: center;
    }

    .admin-header h3 {
      margin-bottom: 10px;
      color: #3742fa;
    }

    .admin-user {
      font-size: 14px;
      opacity: 0.8;
    }

    .message {
      margin-top: 15px;
      padding: 10px;
      border-radius: 6px;
      font-size: 12px;
      text-align: center;
      display: none;
    }

    .message.show {
      display: block;
    }

    .message.success {
      background: rgba(46, 213, 115, 0.2);
    }

    .message.error {
      background: rgba(255, 71, 87, 0.2);
    }

    .message.info {
      background: rgba(55, 66, 250, 0.2);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîí Auto Proxy Connector</h1>
    
    <!-- –§–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="authForm" class="auth-form">
      <h3>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
      <input type="password" id="passwordInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" />
      <button id="btnLogin" class="btn-login">–í–æ–π—Ç–∏</button>
    </div>

    <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
    <div id="userInterface" class="user-interface" style="display: none;">
      <div class="user-welcome">
        <h3 id="userWelcome">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h3>
        <div class="user-info">
          <div class="user-name" id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
          <div class="user-status" id="userStatus">–°—Ç–∞—Ç—É—Å: –ü–æ–¥–∫–ª—é—á–µ–Ω</div>
        </div>
      </div>
      
      <div class="proxy-info">
        <div class="info-row">
          <span class="info-label">IP:</span>
          <span class="info-value" id="userProxyHost">-</span>
        </div>
        <div class="info-row">
          <span class="info-label">–ü–æ—Ä—Ç:</span>
          <span class="info-value" id="userProxyPort">-</span>
        </div>
        <div class="info-row">
          <span class="info-label">–†–µ–≥–∏–æ–Ω:</span>
          <span class="info-value" id="userProxyRegion">-</span>
        </div>
      </div>

      <div class="user-message">
        <p>–ü—Ä–æ–∫—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç</p>
        <p>–î–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</p>
      </div>

      <div class="controls">
        <button class="btn-logout" id="btnUserLogout">–í—ã–π—Ç–∏</button>
      </div>
    </div>

    <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
    <div id="adminInterface" class="admin-interface" style="display: none;">
      <div class="admin-header">
        <h3>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
        <div class="admin-user" id="adminUserName">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</div>
      </div>
      
      <div class="status-indicator">
        <span class="status-text" id="adminStatusText">–°—Ç–∞—Ç—É—Å: –û—Ç–∫–ª—é—á–µ–Ω</span>
        <div class="status-dot" id="adminStatusDot"></div>
      </div>

      <div class="proxy-info">
        <div class="info-row">
          <span class="info-label">IP:</span>
          <span class="info-value" id="adminProxyHost">-</span>
        </div>
        <div class="info-row">
          <span class="info-label">–ü–æ—Ä—Ç:</span>
          <span class="info-value" id="adminProxyPort">-</span>
        </div>
        <div class="info-row">
          <span class="info-label">–†–µ–≥–∏–æ–Ω:</span>
          <span class="info-value" id="adminProxyRegion">-</span>
        </div>
      </div>

      <div class="profile-selector">
        <label for="adminProfileSelect">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å:</label>
        <select id="adminProfileSelect">
          <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å...</option>
        </select>
      </div>

      <div class="controls" style="flex-wrap: wrap">
        <button class="btn-unblock" id="btnAdminUnblock" style="flex-basis: 100%; margin-bottom: 10px; background: #ff6b35;">üîì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç</button>
        <button class="btn-logs" id="btnViewLogs" style="flex-basis: 100%; margin-bottom: 10px; background: #3742fa;">üìã –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏</button>
        <button class="btn-logout" id="btnAdminLogout" style="flex-basis: 100%">–í—ã–π—Ç–∏</button>
      </div>
    </div>

    <div class="message" id="message"></div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ -->
  <div id="logsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000;">
    <div style="background: #2c3e50; color: #ecf0f1; margin: 20px auto; padding: 20px; max-width: 800px; max-height: 80vh; overflow-y: auto; border-radius: 12px;">
      <h2 style="margin-bottom: 15px; font-size: 18px; border-bottom: 2px solid #3498db; padding-bottom: 10px;">üìã –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
      <div style="margin-bottom: 15px;">
        <button id="btnExportLogs" style="padding: 8px 16px; background: #27ae60; color: white; border: none; border-radius: 6px; cursor: pointer; margin-right: 10px;">üì• –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–∞–π–ª</button>
        <button id="btnClearLogs" style="padding: 8px 16px; background: #e74c3c; color: white; border: none; border-radius: 6px; cursor: pointer; margin-right: 10px;">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
        <button id="btnCloseLogs" style="padding: 8px 16px; background: #95a5a6; color: white; border: none; border-radius: 6px; cursor: pointer;">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
      <pre id="logsContent" style="background: #34495e; padding: 15px; border-radius: 8px; font-size: 11px; line-height: 1.6; overflow-x: auto; font-family: 'Courier New', monospace; white-space: pre-wrap; word-wrap: break-word;"></pre>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>

